---
phase: 02-ux-improvements
plan: 02-01
type: execute
---

<objective>
Standardize date range selector component across all three dashboard views (Dashboard, KPIs, Unenriched Leads) to provide consistent filtering options.

Purpose: Eliminate UI inconsistency where different dashboard tabs offer different date filtering options, improving user experience and reducing confusion.
Output: All three date selectors will have identical option sets (11 options: today, yesterday, this_week, last_week, this_month, last_month, this_quarter, last_7_days, last_30_days, last_90_days, this_year)
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/STRUCTURE.md
@.planning/phases/01-security-hardening/01-01-SUMMARY.md
@.planning/phases/01-security-hardening/01-02-SUMMARY.md
@public/index.html

**Established patterns:**
- Static HTML dashboard with inline JavaScript
- Date selector triggers view reload (onchange handlers)
- Consistent HTML structure across all selectors

**Current state:**
- Dashboard selector (line 601): 7 options, MISSING "today", "yesterday", "this_week", "last_week"
- KPIs selector (line 666): 6 options, has "today" but missing quarterly/yearly options
- Unenriched leads selector (line 691): 11 options, COMPLETE (this is the target standard)

**Constraining decisions:**
- Phase 1: Preserve monolithic architecture (no refactoring, incremental improvements only)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Standardize Dashboard date selector to match unenriched leads selector</name>
  <files>public/index.html</files>
  <action>
Update the Dashboard tab date selector (line 601) to include all 11 options from the unenriched leads selector. Add the missing options: "today", "yesterday", "this_week", "last_week" at the beginning of the option list. Keep "this_month" as the default (selected). Maintain the existing onchange="loadDashboard()" handler.

Order should be:
1. today
2. yesterday
3. this_week
4. last_week
5. this_month (selected)
6. last_month
7. this_quarter
8. last_7_days
9. last_30_days
10. last_90_days
11. this_year

Do NOT change the selector ID (dateRange) or onchange handler. Do NOT add any new functionality - just add the missing options.
  </action>
  <verify>
Grep for the Dashboard selector: `grep -A 15 'id="dateRange"' public/index.html`
Verify it has 11 option elements and "today" is the first option.
  </verify>
  <done>Dashboard date selector has all 11 options in consistent order, "this_month" remains default</done>
</task>

<task type="auto">
  <name>Task 2: Standardize KPIs date selector to match unenriched leads selector</name>
  <files>public/index.html</files>
  <action>
Update the KPIs tab date selector (line 666) to include all 11 options from the unenriched leads selector. Add the missing options: "this_quarter", "last_7_days", "last_30_days", "last_90_days", "this_year". Keep "today" as the default (selected). Maintain the existing onchange="loadKPIs()" handler.

Order should be the same as Task 1 (11 options in same sequence).

Do NOT change the selector ID (kpiDateRange) or onchange handler. Do NOT add any new functionality - just add the missing options.
  </action>
  <verify>
Grep for the KPIs selector: `grep -A 15 'id="kpiDateRange"' public/index.html`
Verify it has 11 option elements and "today" is the first option.
  </verify>
  <done>KPIs date selector has all 11 options in consistent order, "today" remains default</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Standardized date range selectors across all three dashboard tabs</what-built>
  <how-to-verify>
    1. Run: `npm run dev` (if not already running)
    2. Visit: http://localhost:4900/dashboard
    3. Test Dashboard tab:
       - Verify date selector has 11 options (today through this_year)
       - Select different date ranges and confirm loadDashboard() fires
       - Verify "this_month" is selected by default
    4. Test KPIs tab:
       - Verify date selector has 11 options (same as Dashboard)
       - Select different date ranges and confirm loadKPIs() fires
       - Verify "today" is selected by default
    5. Test Unenriched Leads tab:
       - Verify date selector still has 11 options (unchanged)
       - Verify it still works correctly
    6. Confirm: All three selectors now have identical option sets in the same order
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Dashboard selector has 11 options matching standard order
- [ ] KPIs selector has 11 options matching standard order
- [ ] Unenriched leads selector unchanged (already had 11 options)
- [ ] All three selectors have identical option sets
- [ ] Default selections preserved (Dashboard: this_month, KPIs: today, Unenriched: this_month)
- [ ] User verified all selectors work correctly
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- All three date selectors have identical 11-option sets
- No errors introduced
- User has visually verified selector consistency
</success_criteria>

<output>
After completion, create `.planning/phases/02-ux-improvements/02-01-SUMMARY.md`:

---
phase: 02-ux-improvements
plan: 02-01
subsystem: dashboard-ui
requires: []
provides:
  - Standardized date selector pattern
affects:
  - 02-02
  - 02-03
tags:
  - ui-consistency
  - date-filtering
key-decisions:
  - Chose unenriched leads selector (11 options) as the standard to match
  - Preserved existing default selections for each view
key-files:
  - public/index.html
tech-stack:
  added: []
  patterns:
    - Consistent 11-option date selector across all dashboard views
patterns-established:
  - Standard date range options: today, yesterday, this_week, last_week, this_month, last_month, this_quarter, last_7_days, last_30_days, last_90_days, this_year
---

# Phase 2 Plan 1: Standardize Date Selector Summary

**Unified date range filtering across all dashboard views with consistent 11-option selector**

## Accomplishments

- Standardized Dashboard date selector to 11 options (added: today, yesterday, this_week, last_week)
- Standardized KPIs date selector to 11 options (added: this_quarter, last_7_days, last_30_days, last_90_days, this_year)
- All three dashboard views now have identical date filtering options
- Preserved existing default selections (Dashboard: this_month, KPIs: today, Unenriched: this_month)

## Files Created/Modified

- [public/index.html](public/index.html) - Updated Dashboard and KPIs date selectors to match standard

## Decisions Made

- Used unenriched leads selector (11 options) as the reference standard since it had the most comprehensive option set
- Maintained existing default selections to avoid changing user behavior expectations

## Issues Encountered

None

## Verification

- User confirmed all three selectors have identical option sets
- User verified date filtering works correctly in all three views

## Next Step

Ready for [02-02-PLAN.md](.planning/phases/02-ux-improvements/02-02-PLAN.md) (Add pagination to auto-enrichment views)
</output>
